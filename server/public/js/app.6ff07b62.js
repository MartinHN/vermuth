(function(t){function e(e){for(var a,i,u=e[0],s=e[1],c=e[2],p=0,f=[];p<u.length;p++)i=u[p],r[i]&&f.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0333":function(t,e,n){"use strict";var a=n("0b5d"),r=n.n(a);r.a},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"04ab":function(t,e,n){"use strict";var a=n("dc5a"),r=n.n(a);r.a},"05a2":function(t,e,n){"use strict";var a=n("e638"),r=n.n(a);r.a},"0b5d":function(t,e,n){},"3e9f":function(t,e,n){},"64a9":function(t,e,n){},"65c7":function(t,e,n){},"77d1":function(t,e,n){},"852d":function(t,e,n){"use strict";var a=n("eb15"),r=n.n(a);r.a},"87c3":function(t,e,n){"use strict";var a=n("d35a"),r=n.n(a);r.a},"87f6":function(t,e,n){"use strict";var a=n("65c7"),r=n.n(a);r.a},9794:function(t,e,n){},b7ee:function(t,e,n){"use strict";var a=n("9794"),r=n.n(a);r.a},bfd9:function(t,e,n){"use strict";var a=n("3e9f"),r=n.n(a);r.a},cd49:function(t,e,n){"use strict";n.r(e);var a=n("a026"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("div",{attrs:{id:"savedStatus"}},[t._v(t._s(t.savedStatus))]),t._v(" | \n    "),n("router-link",{attrs:{to:"/"}},[t._v("Dashboard")]),t._v(" |\n    "),n("router-link",{attrs:{to:"/PatchView"}},[t._v("Patch")]),t._v(" |\n    "),n("router-link",{attrs:{to:"/Config"}},[t._v("Config")])],1),n("router-view")],1)},o=[],i=n("9ab4"),u=n("60a3"),s=n("4bb5"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),i["a"]([Object(s["a"])("savedStatus")],e.prototype,"savedStatus",void 0),e=i["a"]([Object(u["a"])({components:{}})],e),e}(u["c"]),l=c,p=l,f=(n("034f"),n("2877")),m=Object(f["a"])(p,r,o,!1,null,null,null),d=m.exports,h=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("ChannelRack")],1)},b=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ChannelRack"},[n("div",{staticClass:"header"},[n("Button",{attrs:{text:"addChannel"},on:{click:function(e){return t.addChannel()}}}),n("StateComponent",{staticClass:"StateComponent"}),n("toggle",{attrs:{showName:!0,text:"showNames"},model:{value:t.showNames,callback:function(e){t.showNames=e},expression:"showNames"}})],1),t._l(t.fixtures,function(e){return n("channel-widget",{key:e.id,staticClass:"channel",attrs:{fixtureProp:e,showName:t.showNames,showValue:t.showValues}})})],2)},x=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channelWidget"},[n("Toggle",{attrs:{text:"disabled"},model:{value:t.disabledV,callback:function(e){t.disabledV=e},expression:"disabledV"}}),n("slider",{staticClass:"slider",attrs:{value:t.fixtureProp.channel.value,name:t.fixtureProp.channel.name,showName:t.showName,showValue:t.showValue},on:{input:function(e){return t.setChannelValue({channelName:t.fixtureProp.channel.name,value:e})}}}),n("input",{attrs:{type:"text",readonly:"",placeholder:"ChannelName"},domProps:{value:t.fixtureProp.channel.name},on:{change:function(e){return t.setChannelName({channel:t.fixtureProp.channel,name:e.srcElement.value})}}})],1)},g=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SliderPH"},[n("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"1",step:Math.pow(10,-t.precision)},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.valueAsNumber)}}}),t.showValue?n("div",{ref:"Value",staticClass:"value"},[t._v(t._s(t.valToString))]):t._e(),t.showName?n("div",{ref:"Name"},[t._v(t._s(t.name))]):t._e()])},N=[],j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e.prototype.mounted=function(){},Object.defineProperty(e.prototype,"valToString",{get:function(){return this.value.toFixed(this.displayPrecision)},enumerable:!0,configurable:!0}),i["a"]([Object(u["b"])()],e.prototype,"name",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"showName",void 0),i["a"]([Object(u["b"])({default:!0})],e.prototype,"showValue",void 0),i["a"]([Object(u["b"])({default:Math.log(254)/Math.log(10)})],e.prototype,"precision",void 0),i["a"]([Object(u["b"])({default:2})],e.prototype,"displayPrecision",void 0),i["a"]([Object(u["b"])({default:0})],e.prototype,"value",void 0),e=i["a"]([Object(u["a"])({})],e),e}(u["c"]),_=j,w=_,S=(n("852d"),Object(f["a"])(w,O,N,!1,null,"dcfa9d1a",null)),V=S.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"buttonPH",attrs:{for:t._uid,tabindex:t.focusable?-1:""}},[n("input",{staticClass:"button",attrs:{id:t._uid,type:"button",tabindex:t.focusable?-1:""},on:{click:function(e){return t.$emit("click")}}}),t._v("\n  "+t._s(t.text)+"\n")])},k=[],D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),i["a"]([Object(u["b"])()],e.prototype,"text",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"focusable",void 0),e=i["a"]([Object(u["a"])({})],e),e}(u["c"]),T=D,E=T,A=(n("b7ee"),Object(f["a"])(E,P,k,!1,null,"2c8bd468",null)),F=A.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toggleContainer"},[n("input",{attrs:{id:t._uid,type:"checkbox",tabindex:t.focusable?-1:"",readonly:!t.editable},domProps:{checked:t.value},on:{change:function(e){return t.$emit("change",e.target.checked)},input:function(e){return t.$emit("input",e.target.checked)}}}),n("label",{staticClass:"slider round",attrs:{for:t._uid}},[t._v(t._s(t.text))])])},I=[],M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),i["a"]([Object(u["b"])()],e.prototype,"text",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"focusable",void 0),i["a"]([Object(u["b"])({default:!0})],e.prototype,"editable",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"value",void 0),e=i["a"]([Object(u["a"])({})],e),e}(u["c"]),B=M,G=B,L=(n("d2aa"),Object(f["a"])(G,$,I,!1,null,"0a05d0a4",null)),J=L.exports,H=Object(s["b"])("fixtures"),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),Object.defineProperty(e.prototype,"disabledV",{get:function(){return!this.fixtureProp.channel.enabled},set:function(t){this.setChannelEnabled({channel:this.fixtureProp.channel,value:!t})},enumerable:!0,configurable:!0}),e.prototype.widgetChanged=function(t){},e.prototype.changeChannel=function(t){},i["a"]([H.Getter("usedChannels")],e.prototype,"usedChannels",void 0),i["a"]([H.Mutation("setChannelValue")],e.prototype,"setChannelValue",void 0),i["a"]([H.Mutation("setChannelName")],e.prototype,"setChannelName",void 0),i["a"]([H.Mutation("setChannelEnabled")],e.prototype,"setChannelEnabled",void 0),i["a"]([Object(u["b"])()],e.prototype,"fixtureProp",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"showName",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"showValue",void 0),e=i["a"]([Object(u["a"])({components:{Slider:V,Button:F,Toggle:J}})],e),e}(u["c"]),U=R,W=U,q=(n("0333"),Object(f["a"])(W,C,g,!1,null,"775919bc",null)),z=q.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.stateName,expression:"stateName"}],attrs:{size:"3"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.stateName=e.target.multiple?n:n[0]}}},t._l(t.stateNames,function(e){return n("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])}),0),n("Button",{staticClass:"add",attrs:{text:"s"},on:{click:t.saveNewState}})],1)},Q=[],X=Object(s["b"])("states"),Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),Object.defineProperty(e.prototype,"stateName",{get:function(){return this.pStateName},set:function(t){this.recallState({name:t})},enumerable:!0,configurable:!0}),e.prototype.saveNewState=function(){var t=prompt("save new state",this.stateName);null===t||""===t||this.saveCurrentState({name:t})},i["a"]([X.Action("saveCurrentState")],e.prototype,"saveCurrentState",void 0),i["a"]([X.Action("recallState")],e.prototype,"recallState",void 0),i["a"]([X.Getter("channels")],e.prototype,"channels",void 0),i["a"]([X.Getter("stateNames")],e.prototype,"stateNames",void 0),i["a"]([X.State("stateName")],e.prototype,"pStateName",void 0),e=i["a"]([Object(u["a"])({components:{Button:F}})],e),e}(u["c"]),Z=Y,tt=Z,et=(n("bfd9"),Object(f["a"])(tt,K,Q,!1,null,"4506cff0",null)),nt=et.exports,at=Object(s["b"])("fixtures"),rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showNames=!1,e.showValues=!0,e}return i["b"](e,t),e.prototype.addChannel=function(){console.log("add widget");var t="channel : "+this.fixtures.length;this.addFixture({name:t,circs:[10]})},i["a"]([at.Mutation("addFixture")],e.prototype,"addFixture",void 0),i["a"]([at.State("fixtures")],e.prototype,"fixtures",void 0),e=i["a"]([Object(u["a"])({components:{ChannelWidget:z,Button:F,Toggle:J,StateComponent:nt}})],e),e}(u["c"]),ot=rt,it=ot,ut=(n("87f6"),Object(f["a"])(it,y,x,!1,null,"a2158632",null)),st=ut.exports,ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e=i["a"]([Object(u["a"])({components:{ChannelRack:st}})],e),e}(u["c"]),lt=ct,pt=lt,ft=Object(f["a"])(pt,v,b,!1,null,null,null),mt=ft.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("PatchView")]),n("channel-patch")],1)},ht=[],vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t._v("\n  ChannelPatch\n  "),n("br"),n("div",{staticClass:"ChannelPatch"},[n("Button",{staticClass:"button addFixture",attrs:{text:"add Channel"},on:{click:function(e){return t.addFixture()}}}),t._l(t.fixtures,function(e){return n("div",{key:e.id,staticClass:"patchLine"},[n("Button",{staticClass:"button removeChannel ",attrs:{tabIndex:"-1",text:""},on:{click:function(n){return t.removeFixture({channelName:e.channel.name})}}}),n("input",{staticClass:"channelName ",attrs:{type:"text"},domProps:{value:e.channel.name},on:{change:function(n){return t.setChannelName({channel:e.channel,name:n.target.value})}}}),n("div",{staticClass:"dimmers"},t._l(e.dimmers,function(a,r){return n("div",{key:a.id,staticClass:" dimmerCell"},[n("Numbox",{staticClass:"dimmerNum",attrs:{value:a.circ,min:0,max:255},on:{input:function(n){return t.linkChannelToDimmer({channelName:e.channel.name,dimmerNum:n.value,dimmerIdx:r})}}}),e.dimmers.length>1?n("Button",{staticClass:"button removeDimmer ",attrs:{tabIndex:"-1",text:""},on:{click:function(n){return t.removeDimmerFromChannel({channelName:e.channel.name,dimmerIdx:r})}}}):t._e()],1)}),0),n("Button",{staticClass:"addDimmer",attrs:{tabIndex:"-1"},on:{click:function(n){return t.addDimmerToChannel({channelName:e.channel.name,dimmerNum:0})}}},[t._v("+")])],1)})],2)])},bt=[],yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NumboxPH"},[n("input",{staticClass:"Numbox",attrs:{type:"number",min:t.min,max:t.max},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",{value:e.target.valueAsNumber})},change:function(e){return t.$emit("change",{value:e.target.valueAsNumber})}}}),t.showName?n("div",{ref:"Name"},[t._v(t._s(t.name))]):t._e()])},xt=[],Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e.prototype.mounted=function(){},i["a"]([Object(u["b"])()],e.prototype,"name",void 0),i["a"]([Object(u["b"])({default:!1})],e.prototype,"showName",void 0),i["a"]([Object(u["b"])({default:-1/0})],e.prototype,"min",void 0),i["a"]([Object(u["b"])({default:1/0})],e.prototype,"max",void 0),i["a"]([Object(u["b"])({default:0})],e.prototype,"value",void 0),e=i["a"]([Object(u["a"])({})],e),e}(u["c"]),gt=Ct,Ot=gt,Nt=(n("04ab"),Object(f["a"])(Ot,yt,xt,!1,null,"64f69c90",null)),jt=Nt.exports,_t=Object(s["b"])("fixtures"),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),i["a"]([_t.Mutation("addFixture")],e.prototype,"addFixture",void 0),i["a"]([_t.Mutation("linkChannelToDimmer")],e.prototype,"linkChannelToDimmer",void 0),i["a"]([_t.Mutation("addDimmerToChannel")],e.prototype,"addDimmerToChannel",void 0),i["a"]([_t.Mutation("removeDimmerFromChannel")],e.prototype,"removeDimmerFromChannel",void 0),i["a"]([_t.Mutation("setChannelName")],e.prototype,"setChannelName",void 0),i["a"]([_t.Mutation("removeFixture")],e.prototype,"removeFixture",void 0),i["a"]([_t.State("fixtures")],e.prototype,"fixtures",void 0),i["a"]([_t.Getter("usedChannels")],e.prototype,"usedChannels",void 0),e=i["a"]([Object(u["a"])({components:{Button:F,Numbox:jt}})],e),e}(u["c"]),St=wt,Vt=St,Pt=(n("87c3"),Object(f["a"])(Vt,vt,bt,!1,null,"5511db05",null)),kt=Pt.exports,Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e=i["a"]([Object(u["a"])({components:{ChannelPatch:kt}})],e),e}(u["c"]),Tt=Dt,Et=Tt,At=Object(f["a"])(Et,dt,ht,!1,null,null,null),Ft=At.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("StateView")]),n("StateComponent")],1)},It=[],Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e=i["a"]([Object(u["a"])({components:{StateComponent:nt}})],e),e}(u["c"]),Bt=Mt,Gt=Bt,Lt=Object(f["a"])(Gt,$t,It,!1,null,null,null),Jt=Lt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"config"})},Rt=[],Ut=(Object(s["b"])("fixtures"),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e=i["a"]([Object(u["a"])({components:{}})],e),e}(u["c"])),Wt=Ut,qt=Wt,zt=(n("05a2"),Object(f["a"])(qt,Ht,Rt,!1,null,"8dd8da02",null)),Kt=zt.exports;a["default"].use(h["a"]);var Qt=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"DashBoard",component:mt},{path:"/config",name:"Config",component:Kt},{path:"/state",name:"StateView",component:Jt},{path:"/PatchView",name:"PatchView",component:Ft}]}),Xt=n("2f62"),Yt=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!0),this.name=t,this.value=e,this.enabled=n,this.ctype="base"}return t.prototype.setValue=function(t){return this.value=t,this.setValueInternal(t)},t.prototype.setValueInternal=function(t){return!0},t}(),Zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctype="logChanel",e}return i["b"](e,t),e.prototype.setValueInternal=function(t){return console.log("set channel"+t),!0},e}(Yt),te=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.circ=t,this.value=e}return t.prototype.setFloatValue=function(t){return this.value=Math.floor(255*t),this.setValueInternal(this.value)},t.prototype.setValueInternal=function(t){return!0},t}(),ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i["b"](e,t),e.fromObj=function(t){return new e(t.circ,t.value)},e.prototype.setValueInternal=function(t){return console.log("dimmer "+this.circ+" : "+t),!0},e}(te),ne=function(){function t(t,e,n,a){this.ftype=t,this.channel=e,this.dimmers=n,this.DimmerClass=a}return t.prototype.sendValue=function(t){this.channel.setValue(t),this.toDimmers()},t.prototype.toDimmers=function(){for(var t=0,e=this.dimmers;t<e.length;t++){var n=e[t];n.setFloatValue(this.channel.value)}},t.prototype.setDimmerNum=function(t,e){this.dimmers[e].circ=t},t.prototype.addDimmer=function(t){return this.dimmers.push(new this.DimmerClass(t)),!0},t.prototype.removeDimmer=function(t){return void 0===t&&(t=0),t>=0&&t<this.dimmers.length&&(this.dimmers.splice(t,1),!0)},t.prototype.clearDimmers=function(){this.dimmers=new Array},t}(),ae=function(t){function e(e,n){var a=t.call(this,"direct",new Zt(e),[],ee)||this;return n.map(function(t){return a.addDimmer(t)}),a}return i["b"](e,t),e.fromObj=function(t){var n=new e(t.channel.name,t.dimmers.map(function(t){return t.circ}));return n.channel.enabled=t.channel.enabled,n.channel.value=t.channel.value,n},e}(ne),re=n("6fc5");function oe(t,e,n){var a=t.map(function(t){return t.dimmers}).flat().map(function(t){return t.circ}).concat(n||[]);while(-1!==a.indexOf(e))e+=1;return e}function ie(t,e,n){if(!t.find(function(t){return t.channel.name===e}))return e;function a(t,e){return t.length?t+" "+e:""+e}var r=e.split(" "),o=r.length>0?parseInt(r[r.length-1],10):NaN;if(isNaN(o)&&t.find(function(t){return t.channel.name===e})&&(o=0,r.push("0")),!isNaN(o)){o+=1;var i=r.slice(0,r.length-1).join(" ");while(t.find(function(t){return t.channel.name===a(i,o)})&&n!==a(i,o))o+=1;e=a(i,o)}return e}var ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fixtures=new Array,e}return i["b"](e,t),e.prototype.fromObj=function(t){this.fixtures=t.fixtures.map(function(t){return ae.fromObj(t)})},e.prototype.addFixture=function(t){var e=this;t=t||{name:"channel",circs:[1]};var n=t.name,a=t.circs;n||(n="channel"),n=ie(this.fixtures,n,n);var r=new Array;a=a.map(function(t){var n=oe(e.fixtures,t,r);return r.push(n),n}),this.fixtures.push(new ae(n,a))},e.prototype.removeFixture=function(t){var e=this.fixtures.findIndex(function(e){return e.channel.name===t.channelName});e>=0&&this.fixtures.splice(e,1)},e.prototype.linkChannelToDimmer=function(t){var e=t.channelName,n=t.dimmerIdx,a=t.dimmerNum,r=this.fixtures.find(function(t){return t.channel.name===e});r&&(r.dimmers[n].circ!==a&&(a=oe(this.fixtures,a)),r.setDimmerNum(a,n))},e.prototype.addDimmerToChannel=function(t){var e=t.dimmerNum,n=t.channelName;e||(e=1);var a=this.fixtures.find(function(t){return t.channel.name===n});a&&(e=oe(this.fixtures,e),a.addDimmer(e))},e.prototype.removeDimmerFromChannel=function(t){var e=t.channelName,n=t.dimmerIdx,a=this.fixtures.find(function(t){return t.channel.name===e});a&&a.removeDimmer(n)},e.prototype.setChannelValue=function(t){var e=t.channelName,n=t.value,a=this.fixtures.find(function(t){return t.channel.name===e});a&&a.sendValue(n)},e.prototype.setChannelName=function(t){var e=t.channel,n=t.name;n!==e.name&&(this.fixtures.find(function(t){return t.channel===e})||console.error("fixture not managed"),n=ie(this.fixtures,n,e.name),e.name=n)},e.prototype.setChannelEnabled=function(t){var e=t.value,n=t.channel;e!==n.enabled&&(this.fixtures.find(function(t){return t.channel===n})||console.error("fixture not managed"),n.enabled=e)},Object.defineProperty(e.prototype,"usedDimmers",{get:function(){return this.fixtures.map(function(t){return t.dimmers}).flat()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usedCircs",{get:function(){return Array.from(new Set(this.usedDimmers.map(function(t){return t.circ}).flat()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usedChannels",{get:function(){return this.fixtures.map(function(t){return t.channel})},enumerable:!0,configurable:!0}),i["a"]([re["c"]],e.prototype,"fromObj",null),i["a"]([re["c"]],e.prototype,"addFixture",null),i["a"]([re["c"]],e.prototype,"removeFixture",null),i["a"]([re["c"]],e.prototype,"linkChannelToDimmer",null),i["a"]([re["c"]],e.prototype,"addDimmerToChannel",null),i["a"]([re["c"]],e.prototype,"removeDimmerFromChannel",null),i["a"]([re["c"]],e.prototype,"setChannelValue",null),i["a"]([re["c"]],e.prototype,"setChannelName",null),i["a"]([re["c"]],e.prototype,"setChannelEnabled",null),e=i["a"]([Object(re["b"])({namespaced:!0})],e),e}(re["d"]),se=ue,ce=function(){function t(t,e){void 0===e&&(e=0),"string"===typeof t?(this.channelName=t,this.value=e):(this.channelName=t.name,this.value=t.value)}return t}(),le=function(){function t(t,e){this.name=t,this.pChannelValues=[];for(var n=0,a=e;n<a.length;n++){var r=a[n];r.enabled&&this.pChannelValues.push(new ce(r))}}return Object.defineProperty(t.prototype,"channelValues",{get:function(){return this.pChannelValues.slice()},enumerable:!0,configurable:!0}),t.fromObj=function(e){var n=new t(e.name,[]);return e.pChannelValues.map(function(t){return n.pChannelValues.push(new ce(t.channelName,t.value))}),n},t}(),pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.states=new Array,e.stateName="",e}return i["b"](e,t),e.prototype.fromObj=function(t){var e=this;t.states.map(function(t){return e.context.commit("addState",le.fromObj(t))}),this.context.commit("setCurrentStateName",t.stateName)},e.prototype.saveCurrentState=function(t){var e=this.context.getters.channels,n=new le(t.name,e);this.context.commit("addState",n),this.context.commit("setCurrentStateName",n.name)},e.prototype.addState=function(t){var e=this.states.findIndex(function(e){return e.name===t.name});-1===e?this.states.push(t):this.states.splice(e,1,t)},e.prototype.setCurrentStateName=function(t){this.stateName=t},e.prototype.recallState=function(t){var e=this.states.find(function(e){return e.name===t.name});if(e){for(var n=0,a=e.channelValues;n<a.length;n++){var r=a[n];this.context.commit("fixtures/setChannelValue",r,{root:!0})}for(var o=function(t){var n=-1!==e.channelValues.findIndex(function(e){return e.channelName===t.name});i.context.commit("fixtures/setChannelEnabled",{channel:t,value:n},{root:!0})},i=this,u=0,s=this.context.getters.channels;u<s.length;u++){r=s[u];o(r)}this.context.commit("setCurrentStateName",t.name)}},Object.defineProperty(e.prototype,"channels",{get:function(){return this.context.rootGetters["fixtures/usedChannels"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateNames",{get:function(){return this.states.map(function(t){return t.name})},enumerable:!0,configurable:!0}),i["a"]([re["a"]],e.prototype,"fromObj",null),i["a"]([re["a"]],e.prototype,"saveCurrentState",null),i["a"]([re["c"]],e.prototype,"addState",null),i["a"]([re["c"]],e.prototype,"setCurrentStateName",null),i["a"]([re["a"]],e.prototype,"recallState",null),e=i["a"]([Object(re["b"])({namespaced:!0})],e),e}(re["d"]),fe=pe,me=n("2ef0"),de=n.n(me);a["default"].use(Xt["a"]);var he=!1,ve="content",be={load:function(){var t=window.localStorage.getItem(ve)||JSON.stringify("");return JSON.parse(t)},save:de.a.debounce(function(t,e){window.localStorage.setItem(ve,JSON.stringify(t)),e()},1e3,{maxWait:3e3})},ye=function(t){t.dispatch("LOAD_GLOBAL_STATE",be.load()),t.subscribe(function(e,n){if(e.type.includes("/"))return t.commit("SET_SAVE_STATUS","Saving..."),void be.save(n,function(){t.commit("SET_SAVE_STATUS","Saved")})})},xe={modules:{fixtures:se,states:fe},state:{version:"1.0.0",savedStatus:""},mutations:{SET_SAVE_STATUS:function(t,e){t.savedStatus=e}},actions:{LOAD_GLOBAL_STATE:function(t,e){e&&(t.commit("fixtures/fromObj",e.fixtures),t.dispatch("states/fromObj",e.states))}},strict:he,plugins:[ye]},Ce=new Xt["a"].Store(xe),ge=n("9483");Object(ge["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["default"].config.productionTip=!1,new a["default"]({router:Qt,store:Ce,render:function(t){return t(d)}}).$mount("#app")},d2aa:function(t,e,n){"use strict";var a=n("77d1"),r=n.n(a);r.a},d35a:function(t,e,n){},dc5a:function(t,e,n){},e638:function(t,e,n){},eb15:function(t,e,n){}});
//# sourceMappingURL=app.6ff07b62.js.map